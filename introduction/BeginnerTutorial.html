
<!DOCTYPE HTML>
<html lang="ko" >
    <head>
        <title>튜토리얼 · GitBook</title>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.0">
        
        
        
    
    <link rel="stylesheet" href="../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-prism/prism.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="SagaBackground.html" />
    
    
    <link rel="prev" href="./" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="검색어 입력" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        <li class="header">목차</li>
        
        
    
        <li class="chapter " data-level="1.1" data-path="../">
            
                <a href="../">
            
                    
                    읽어주세요
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="./">
            
                <a href="./">
            
                    
                    소개
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter active" data-level="1.2.1" data-path="BeginnerTutorial.html">
            
                <a href="BeginnerTutorial.html">
            
                    
                    튜토리얼
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2" data-path="SagaBackground.html">
            
                <a href="SagaBackground.html">
            
                    
                    배경지식
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="../basics/">
            
                <a href="../basics/">
            
                    
                    기본 개념
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1" data-path="../basics/UsingSagaHelpers.html">
            
                <a href="../basics/UsingSagaHelpers.html">
            
                    
                    헬퍼 함수
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2" data-path="../basics/DeclarativeEffects.html">
            
                <a href="../basics/DeclarativeEffects.html">
            
                    
                    서술적 이펙트
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.3" data-path="../basics/DispatchingActions.html">
            
                <a href="../basics/DispatchingActions.html">
            
                    
                    액션 dispatch 하기
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.4" data-path="../basics/ErrorHandling.html">
            
                <a href="../basics/ErrorHandling.html">
            
                    
                    에러 핸들링
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.5" data-path="../basics/Effect.html">
            
                <a href="../basics/Effect.html">
            
                    
                    이펙트 추상화
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="../advanced/">
            
                <a href="../advanced/">
            
                    
                    고급 개념
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.1" data-path="../advanced/FutureActions.html">
            
                <a href="../advanced/FutureActions.html">
            
                    
                    액션 풀링
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2" data-path="../advanced/NonBlockingCalls.html">
            
                <a href="../advanced/NonBlockingCalls.html">
            
                    
                    비봉쇄(non-blocking) 호출
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.3" data-path="../advanced/RunningTasksInParallel.html">
            
                <a href="../advanced/RunningTasksInParallel.html">
            
                    
                    병렬 태스크 실행
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.4" data-path="../advanced/RacingEffects.html">
            
                <a href="../advanced/RacingEffects.html">
            
                    
                    여러 이펙트의 경주
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.5" data-path="../advanced/SequencingSagas.html">
            
                <a href="../advanced/SequencingSagas.html">
            
                    
                    yield*를 이용한 사가 배열
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.6" data-path="../advanced/ComposingSagas.html">
            
                <a href="../advanced/ComposingSagas.html">
            
                    
                    사가 조합
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.7" data-path="../advanced/TaskCancellation.html">
            
                <a href="../advanced/TaskCancellation.html">
            
                    
                    태스크 취소
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.8" data-path="../advanced/ForkModel.html">
            
                <a href="../advanced/ForkModel.html">
            
                    
                    redux-saga의 포크(fork) 모델
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.9" data-path="../advanced/Concurrency.html">
            
                <a href="../advanced/Concurrency.html">
            
                    
                    동시성 패턴
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.10" data-path="../advanced/Testing.html">
            
                <a href="../advanced/Testing.html">
            
                    
                    사가 테스트
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.11" data-path="../advanced/UsingRunSaga.html">
            
                <a href="../advanced/UsingRunSaga.html">
            
                    
                    사가와 외부 입/출력 연결
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.12" data-path="../advanced/Channels.html">
            
                <a href="../advanced/Channels.html">
            
                    
                    채널
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5" data-path="../recipes/">
            
                <a href="../recipes/">
            
                    
                    레시피
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6" data-path="../ExternalResources.html">
            
                <a href="../ExternalResources.html">
            
                    
                    외부 자료(미번역)
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7" data-path="../Troubleshooting.html">
            
                <a href="../Troubleshooting.html">
            
                    
                    문제해결
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8" data-path="../Glossary.html">
            
                <a href="../Glossary.html">
            
                    
                    용어 사전
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9" data-path="../api/">
            
                <a href="../api/">
            
                    
                    API 레퍼런스(미번역)
            
                </a>
            

            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            GitBook에 게시
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href=".." >튜토리얼</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="&#xD29C;&#xD1A0;&#xB9AC;&#xC5BC;">&#xD29C;&#xD1A0;&#xB9AC;&#xC5BC;</h1><h2 id="&#xC774;-&#xD29C;&#xD1A0;&#xB9AC;&#xC5BC;&#xC758;-&#xBAA9;&#xC801;">&#xC774; &#xD29C;&#xD1A0;&#xB9AC;&#xC5BC;&#xC758; &#xBAA9;&#xC801;</h2><p>&#xC774; &#xD29C;&#xD1A0;&#xB9AC;&#xC5BC;&#xC740; redux-saga &#xB97C; &#xAC00;&#xB2A5;&#xD55C; &#xC26C;&#xC6B4; &#xBC29;&#xBC95;&#xC73C;&#xB85C; &#xC18C;&#xAC1C;&#xD560;&#xAC83;&#xC785;&#xB2C8;&#xB2E4;.
<!--This tutorial attempts to introduce redux-saga in a (hopefully) accessible way.--></p><p>&#xD29C;&#xD1A0;&#xB9AC;&#xC5BC;&#xC744; &#xC704;&#xD574;&#xC11C;, &#xC6B0;&#xB9AC;&#xB294; Redux &#xC800;&#xC7A5;&#xC18C;&#xC5D0; &#xC788;&#xB294; &#xAC04;&#xB2E8;&#xD55C; &#xCE74;&#xC6B4;&#xD130; &#xC608;&#xC2DC;&#xB97C; &#xC0AC;&#xC6A9;&#xD560;&#xAC81;&#xB2C8;&#xB2E4;.
&#xC774; &#xCE74;&#xC6B4;&#xD130; &#xC560;&#xD50C;&#xB9AC;&#xCF00;&#xC774;&#xC158;&#xC740; &#xC544;&#xC8FC; &#xAC04;&#xB2E8;&#xD558;&#xBA74;&#xC11C;, &#xACFC;&#xB3C4;&#xD558;&#xAC8C; &#xBE60;&#xC9C0;&#xC9C0; &#xC54A;&#xACE0; redux-sage &#xC758; &#xAE30;&#xBCF8; &#xCEE8;&#xC149;&#xB4E4;&#xC744; &#xC124;&#xBA85; &#xD558;&#xAE30;&#xC5D0; &#xB531;&#xC785;&#xB2C8;&#xB2E4;.
<!--For our getting started tutorial, we are going to use the trivial Counter demo from the Redux repo. The application is quite simple but is a good fit to illustrate the basic concepts of redux-saga without being lost in excessive details.--></p><h3 id="&#xCD08;&#xAE30;-&#xC124;&#xC815;">&#xCD08;&#xAE30; &#xC124;&#xC815;</h3><p>&#xC2DC;&#xC791;&#xD558;&#xAE30; &#xC804;&#xC5D0;, <a href="https://github.com/redux-saga/redux-saga-beginner-tutorial" target="_blank">&#xD29C;&#xD1A0;&#xB9AC;&#xC5BC; &#xC800;&#xC7A5;&#xC18C;</a> &#xB97C; &#xD074;&#xB860; &#xD558;&#xC138;&#xC694;.
<!--Before we start, clone the [tutorial repository](https://github.com/redux-saga/redux-saga-beginner-tutorial).--></p><blockquote><p>&#xC774; &#xD29C;&#xD1A0;&#xB9AC;&#xC5BC;&#xC758; &#xCF54;&#xB4DC;&#xB4E4;&#xC740; <code>sagas</code> &#xBE0C;&#xB79C;&#xCE58;&#xC5D0; &#xC788;&#xC2B5;&#xB2C8;&#xB2E4;.</p></blockquote><!--The final code of this tutorial is located in the `sagas` branch.-->


<p>&#xCEE4;&#xB9E8;&#xB4DC; &#xB77C;&#xC778;&#xC5D0;&#xC11C; &#xB2E4;&#xC74C; &#xBA85;&#xB839;&#xC5B4;&#xB97C; &#xC2E4;&#xD589;&#xD558;&#xC138;&#xC694;:
<!--Then in the command line, run:--></p><pre><code class="lang-sh">$ cd redux-saga-beginner-tutorial
$ npm install</code></pre>
<p>&#xC560;&#xD50C;&#xB9AC;&#xCF00;&#xC774;&#xC158;&#xC744; &#xC2DC;&#xC791;&#xD558;&#xAE30; &#xC704;&#xD574;&#xC11C;&#xB294; &#xB2E4;&#xC74C; &#xBA85;&#xB839;&#xC5B4;&#xB97C; &#xC2E4;&#xD589;&#xD558;&#xC2DC;&#xBA74; &#xB429;&#xB2C8;&#xB2E4;:
<!--To start the application, run:--></p><pre><code class="lang-sh">$ npm start</code></pre>
<p><code>&#xC99D;&#xAC00;</code> &#xC640; <code>&#xAC10;&#xC18C;</code> &#xBC84;&#xD2BC;&#xC774; &#xC788;&#xB294; &#xCE74;&#xC6B4;&#xD130;&#xB85C; &#xC544;&#xC8FC; &#xAC04;&#xB2E8;&#xD558;&#xAC8C; &#xC2DC;&#xC791;&#xD558;&#xACE0;, &#xADF8;&#xD6C4; &#xBE44;&#xB3D9;&#xAE30; &#xD638;&#xCD9C;&#xC5D0; &#xB300;&#xD574;&#xC11C; &#xC124;&#xBA85;&#xD558;&#xACA0;&#xC2B5;&#xB2C8;&#xB2E4;
<!--We are starting with the simplest use case: 2 buttons to `Increment` and `Decrement` a counter. Later, we will introduce asynchronous calls.--></p><p>&#xC774;&#xC0C1;&#xC774; &#xC5C6;&#xB2E4;&#xBA74;, &#xB2F9;&#xC2E0;&#xC740; <code>&#xC99D;&#xAC00;</code> &#xC640; <code>&#xAC10;&#xC18C;</code> &#xBC84;&#xD2BC;&#xACFC; <code>Counter: 0</code> &#xC774;&#xB77C;&#xB294; &#xBA54;&#xC138;&#xC9C0;&#xB97C; &#xBCFC; &#xC218; &#xC788;&#xC744;&#xAC83; &#xC785;&#xB2C8;&#xB2E4;.
<!--If things go well, you should see 2 buttons `Increment` and `Decrement` along with a message below showing `Counter: 0`.--></p><blockquote><p>&#xB9CC;&#xC57D; &#xC774; &#xB2E8;&#xACC4;&#xC5D0;&#xC11C; &#xC5B4;&#xB824;&#xC6C0;&#xC744; &#xACAA;&#xACE0;&#xACC4;&#xC2DC;&#xB2E4;&#xBA74;, &#xACE0;&#xBBFC;&#xD558;&#xC9C0; &#xB9C8;&#xC2DC;&#xACE0; <a href="https://github.com/redux-saga/redux-saga-beginner-tutorial/issues" target="_blank">&#xD29C;&#xD1A0;&#xB9AC;&#xC5BC; &#xC800;&#xC7A5;&#xC18C;</a> &#xC5D0; &#xC5D0;&#xC288;&#xB97C; &#xB9CC;&#xB4E4;&#xC5B4;&#xC8FC;&#xC138;&#xC694;.</p></blockquote><!-- > In case you encountered an issue with running the application. Feel free to create an issue on the [tutorial repo](https://github.com/redux-saga/redux-saga-beginner-tutorial/issues).-->


<h2 id="hello-sagas">Hello Sagas!</h2><p>&#xCCAB;&#xBC88;&#xC9F8; Saga &#xB97C; &#xB9CC;&#xB4E4;&#xC5B4;&#xBD05;&#xC2DC;&#xB2E4;! &#xC804;&#xD1B5;&#xC744; &#xB530;&#xB77C;, Saga &#xBC84;&#xC804; &apos;Hello, world&apos; &#xB97C; &#xC791;&#xC131;&#xD574; &#xBD05;&#xC2DC;&#xB2E4;.
<!--We are going to create our first Saga. Following the tradition, we will write our 'Hello, world' version for Sagas.--></p><p><code>sagas.js</code> &#xD30C;&#xC77C;&#xC744; &#xB9CC;&#xB4DC;&#xC2E0; &#xD6C4; &#xB2E4;&#xC74C; &#xB0B4;&#xC6A9;&#xC744; &#xC801;&#xC73C;&#xC138;&#xC694;.
<!--Create a file `sagas.js` then add the following snippet:--></p><pre><code class="lang-javascript"><span class="token keyword">export</span> <span class="token keyword">function</span><span class="token operator">*</span> <span class="token function">helloSaga</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&apos;Hello Sagas!&apos;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span></code></pre>
<p>&#xBB34;&#xC11C;&#xC6B4;&#xAC83;&#xC774; &#xC5C6;&#xC2B5;&#xB2C8;&#xB2E4;, &#xC774;&#xAC74; &#xADF8;&#xB0E5; &#xD3C9;&#xBC94;&#xD55C; &#xD568;&#xC218;&#xC77C; &#xBFD0;&#xC774;&#xC5D0;&#xC694;. (<code>*</code>&#xB97C; &#xC81C;&#xC678;&#xD558;&#xBA74;&#xC694;). &#xC774;&#xAC83;&#xC774; &#xD558;&#xB294;&#xC77C;&#xC740; &#xCF58;&#xC194;&#xC5D0; &#xD658;&#xC601; &#xBA54;&#xC138;&#xC9C0;&#xB97C; &#xC801;&#xB294;&#xAC83;&#xBC16;&#xC5D0; &#xC5C6;&#xC2B5;&#xB2C8;&#xB2E4;.
<!--So nothing scary, just a normal function (except for the `*`). All it does is print a greeting message into the console.--></p><p>&#xC6B0;&#xB9AC;&#xC758; Saga &#xB97C; &#xC2E4;&#xD589;&#xD558;&#xAE30; &#xC704;&#xD574;&#xC11C;, &#xBA87;&#xAC00;&#xC9C0; &#xD560; &#xC77C;&#xC774; &#xC788;&#xC2B5;&#xB2C8;&#xB2E4;.
<!--In order to run our Saga, we need to:--></p><ul><li>Sagas &#xB9AC;&#xC2A4;&#xD2B8;&#xC640; &#xD568;&#xAED8; Saga &#xBBF8;&#xB4E4;&#xC6E8;&#xC5B4;&#xB97C; &#xB9CC;&#xB4DC;&#xC138;&#xC694;. (&#xC9C0;&#xAE08;&#xAE4C;&#xC9C4; <code>helloSaga</code> &#xC624;&#xC9C1; &#xD558;&#xB098;&#xC785;&#xB2C8;&#xB2E4;)
</li>
<li>Saga &#xBBF8;&#xB4E4;&#xC6E8;&#xC5B4;&#xB97C; Redux &#xC2A4;&#xD1A0;&#xC5B4;&#xC5D0; &#xC5F0;&#xACB0;&#xD558;&#xC138;&#xC694;.
</li></ul>
<!--- create a Saga middleware with a list of Sagas to run (so far we have only one `helloSaga`)-->


<!--- connect the Saga middleware to the Redux store-->


<p>&#xC774;&#xC81C; <code>main.js</code> &#xB97C; &#xC791;&#xC131;&#xD574;&#xBD05;&#xC2DC;&#xB2E4;:
<!--We will make the changes to `main.js`:--></p><pre><code class="lang-javascript"><span class="token comment" spellcheck="true">// ...</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> createStore<span class="token punctuation">,</span> applyMiddleware <span class="token punctuation">}</span> from <span class="token string">&apos;redux&apos;</span>
<span class="token keyword">import</span> createSagaMiddleware from <span class="token string">&apos;redux-saga&apos;</span>

<span class="token comment" spellcheck="true">// ...</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> helloSaga <span class="token punctuation">}</span> from <span class="token string">&apos;./sagas&apos;</span>

<span class="token keyword">const</span> sagaMiddleware <span class="token operator">=</span> <span class="token function">createSagaMiddleware</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> store <span class="token operator">=</span> <span class="token function">createStore</span><span class="token punctuation">(</span>
  reducer<span class="token punctuation">,</span>
  <span class="token function">applyMiddleware</span><span class="token punctuation">(</span>sagaMiddleware<span class="token punctuation">)</span>
<span class="token punctuation">)</span>
sagaMiddleware<span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span>helloSaga<span class="token punctuation">)</span>

<span class="token keyword">const</span> action <span class="token operator">=</span> type <span class="token operator">=</span><span class="token operator">&gt;</span> store<span class="token punctuation">.</span><span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token punctuation">{</span>type<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment" spellcheck="true">// rest unchanged</span></code></pre>
<p>&#xCC98;&#xC74C;&#xC5D0;, <code>./sagas</code> &#xBAA8;&#xB4C8;&#xC5D0;&#xC11C; &#xAC00;&#xC838;&#xC628; &#xC6B0;&#xB9AC;&#xC758; Saga &#xB97C; &#xC784;&#xD3EC;&#xD2B8; &#xD569;&#xB2C8;&#xB2E4;. &#xADF8;&#xB9AC;&#xACE0; &#xB098;&#xC11C; <code>redux-saga</code> &#xB77C;&#xC774;&#xBE0C;&#xB7EC;&#xB9AC;&#xC5D0;&#xC11C; &#xAC00;&#xC838;&#xC628; <code>createSagaMiddleware</code> &#xD329;&#xD1A0;&#xB9AC; &#xD568;&#xC218;&#xB97C; &#xC0AC;&#xC6A9;&#xD574;&#xC11C; &#xBBF8;&#xB4E4;&#xC6E8;&#xC5B4;&#xB97C; &#xB9CC;&#xB4E4;&#xC5C8;&#xC8E0;.
<!--First we import our Saga from the `./sagas` module. Then we create a middleware using the factory function `createSagaMiddleware` exported by the `redux-saga` library.--></p><p><code>helloSaga</code> &#xB97C; &#xC2E4;&#xD589;&#xD558;&#xAE30; &#xC804;&#xC5D0;, &#xBC18;&#xB4DC;&#xC2DC; <code>applyMiddleware</code> &#xB97C; &#xC0AC;&#xC6A9;&#xD574;&#xC11C; &#xBBF8;&#xB4E4;&#xC6E8;&#xC5B4;&#xB97C; &#xC5F0;&#xACB0;&#xD574;&#xC57C; <code>sagaMiddleware.run(helloSaga)</code> &#xB97C; &#xD1B5;&#xD574; Saga &#xB97C; &#xC2DC;&#xC791;&#xD560; &#xC218; &#xC788;&#xC2B5;&#xB2C8;&#xB2E4;.. 
<!--Before running our `helloSaga`, we must connect our middleware to the Store using `applyMiddleware`. Then we can use the `sagaMiddleware.run(helloSaga)` to start our Saga.--></p><p>&#xC9C0;&#xAE08;&#xAE4C;&#xC9C0; &#xC6B0;&#xB9AC;&#xC758; Saga &#xB294; &#xD2B9;&#xBCC4;&#xD558;&#xC9C0; &#xC54A;&#xC2B5;&#xB2C8;&#xB2E4;. &#xC774;&#xAC74; &#xB2E8;&#xC9C0; &#xB85C;&#xADF8; &#xBA54;&#xC138;&#xC9C0;&#xB9CC;&#xC744; &#xB0A8;&#xAE30;&#xACE0; &#xC885;&#xB8CC;&#xB420; &#xBFD0;&#xC785;&#xB2C8;&#xB2E4;.
<!--So far, our Saga does nothing special. It just logs a message then exits.--></p><h2 id="&#xBE44;&#xB3D9;&#xAE30;-&#xD638;&#xCD9C;&#xD558;&#xAE30;">&#xBE44;&#xB3D9;&#xAE30; &#xD638;&#xCD9C;&#xD558;&#xAE30;</h2><p>&#xC774;&#xC81C;, &#xC624;&#xB9AC;&#xC9C0;&#xB110; &#xCE74;&#xC6B4;&#xD130; &#xB370;&#xBAA8; &#xAC00;&#xAE4C;&#xC774; &#xBB34;&#xC5B8;&#xAC00;&#xB97C; &#xCD94;&#xAC00;&#xD574;&#xBD05;&#xC2DC;&#xB2E4;. &#xBE44;&#xB3D9;&#xAE30; &#xD638;&#xCD9C;&#xC744; &#xC124;&#xBA85;&#xD558;&#xAE30; &#xC704;&#xD574; &#xD074;&#xB9AD; 1&#xCD08; &#xD6C4; &#xC99D;&#xAC00;&#xB418;&#xB294; &#xB610;&#xB2E4;&#xB978; &#xBC84;&#xD2BC;&#xC744; &#xCD94;&#xAC00;&#xD560;&#xAC81;&#xB2C8;&#xB2E4;.
<!--Now let's add something closer to the original Counter demo. To illustrate asynchronous calls, we will add another button to increment the counter 1 second after the click.--></p><p>&#xBA3C;&#xC800;, UI &#xCEF4;&#xD3EC;&#xB10C;&#xD2B8;&#xC5D0; <code>onIncrementAsync</code> &#xB77C;&#xB294; &#xCF5C;&#xBC31;&#xC744; &#xB123;&#xC744;&#xAC81;&#xB2C8;&#xB2E4;.
<!--First thing's first, we'll provide an additional callback `onIncrementAsync` to the UI component.--></p><pre><code class="lang-javascript"><span class="token keyword">const</span> Counter <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">{</span> value<span class="token punctuation">,</span> onIncrement<span class="token punctuation">,</span> onDecrement<span class="token punctuation">,</span> onIncrementAsync <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
    <span class="token punctuation">{</span><span class="token string">&apos; &apos;</span><span class="token punctuation">}</span>
    <span class="token operator">&lt;</span>button onClick<span class="token operator">=</span><span class="token punctuation">{</span>onIncrementAsync<span class="token punctuation">}</span><span class="token operator">&gt;</span>
      Increment after <span class="token number">1</span> second
    <span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>hr <span class="token operator">/</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
      Clicked<span class="token punctuation">:</span> <span class="token punctuation">{</span>value<span class="token punctuation">}</span> times
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span></code></pre>
<p>&#xB2E4;&#xC74C;&#xC73C;&#xB85C;, <code>onIncrementAsync</code> &#xB97C; &#xC2A4;&#xD1A0;&#xC5B4; &#xC561;&#xC158;&#xC5D0; &#xC5F0;&#xACB0;&#xD574;&#xC57C; &#xD569;&#xB2C8;&#xB2E4;.
<!--Next we should connect the `onIncrementAsync` of the Component to a Store action.--></p><p><code>main.js</code> &#xBAA8;&#xB4C8;&#xC744; &#xB2E4;&#xC74C;&#xACFC; &#xAC19;&#xC774; &#xC218;&#xC815;&#xD558;&#xACA0;&#xC2B5;&#xB2C8;&#xB2E4;.
<!--We will modify the `main.js` module as follows--></p><pre><code class="lang-javascript"><span class="token keyword">function</span> <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  ReactDOM<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>Counter
      value<span class="token operator">=</span><span class="token punctuation">{</span>store<span class="token punctuation">.</span><span class="token function">getState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
      onIncrement<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token function">action</span><span class="token punctuation">(</span><span class="token string">&apos;INCREMENT&apos;</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
      onDecrement<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token function">action</span><span class="token punctuation">(</span><span class="token string">&apos;DECREMENT&apos;</span><span class="token punctuation">)</span><span class="token punctuation">}</span> 
      onIncrementAsync<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token function">action</span><span class="token punctuation">(</span><span class="token string">&apos;INCREMENT_ASYNC&apos;</span><span class="token punctuation">)</span><span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span><span class="token punctuation">,</span>
    document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&apos;root&apos;</span><span class="token punctuation">)</span>
  <span class="token punctuation">)</span>
<span class="token punctuation">}</span></code></pre>
<p>&#xBA85;&#xC2EC;&#xD558;&#xC138;&#xC694;, redux-thunk &#xC640;&#xB294; &#xB2EC;&#xB9AC; &#xC6B0;&#xB9AC;&#xC758; &#xCEF4;&#xD3EC;&#xB10C;&#xD2B8;&#xB294; &#xC21C;&#xC218; &#xC561;&#xC158; &#xC624;&#xBE0C;&#xC81D;&#xD2B8;&#xB9CC; dispatch &#xD560;&#xAC81;&#xB2C8;&#xB2E4;.
<!--Note that unlike in redux-thunk, our component dispatches a plain object action.--></p><p>&#xC774;&#xC81C; &#xBE44;&#xB3D9;&#xAE30; &#xD638;&#xCD9C;&#xC744; &#xAD6C;&#xD604;&#xD558;&#xAE30; &#xC704;&#xD574; &#xB610;&#xB2E4;&#xB978; Saga &#xB97C; &#xC18C;&#xAC1C;&#xD574;&#xBCFC;&#xAE4C; &#xD569;&#xB2C8;&#xB2E4;. 
<!--Now we will introduce another Saga to perform the asynchronous call. Our use case is as follows:--></p><blockquote><p>&#xAC01;&#xAC01;&#xC758; <code>INCREMENT_ASYNC</code> &#xC561;&#xC158;&#xC5D0;&#xC11C;, &#xC6B0;&#xB9AC;&#xB294; &#xB2E4;&#xC74C;&#xACFC; &#xAC19;&#xC740; &#xC791;&#xC5C5;&#xC744; &#xC218;&#xD589;&#xD560; &#xD0DC;&#xC2A4;&#xD06C;&#xB97C; &#xC2DC;&#xC791;&#xD558;&#xACE0;&#xC790; &#xD569;&#xB2C8;&#xB2E4;.</p></blockquote><!--On each `INCREMENT_ASYNC` action, we want to start a task that will do the following-->


<blockquote><ul><li>1 &#xCD08;&#xB97C; &#xAE30;&#xB2E4;&#xB9B0; &#xD6C4; &#xCE74;&#xC6B4;&#xD130; &#xC99D;&#xAC00;
</li></ul>
</blockquote><!-- > - Wait 1 second then increment the counter-->


<p>&#xB2E4;&#xC74C; &#xCF54;&#xB4DC;&#xB97C; <code>sagas.js</code> &#xBAA8;&#xB4C8;&#xC5D0; &#xCD94;&#xAC00;&#xD558;&#xC138;&#xC694;.
<!--Add the following code to the `sagas.js` module:--></p><pre><code class="lang-javascript"><span class="token keyword">import</span> <span class="token punctuation">{</span> delay <span class="token punctuation">}</span> from <span class="token string">&apos;redux-saga&apos;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> put<span class="token punctuation">,</span> takeEvery <span class="token punctuation">}</span> from <span class="token string">&apos;redux-saga/effects&apos;</span>

<span class="token comment" spellcheck="true">// worker Saga: &#xBE44;&#xB3D9;&#xAE30; &#xC99D;&#xAC00; &#xD0DC;&#xC2A4;&#xD06C;&#xB97C; &#xC218;&#xD589;&#xD560;&#xAC81;&#xB2C8;&#xB2E4;.</span>
<span class="token keyword">export</span> <span class="token keyword">function</span><span class="token operator">*</span> <span class="token function">incrementAsync</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">yield</span> <span class="token function">delay</span><span class="token punctuation">(</span><span class="token number">1000</span><span class="token punctuation">)</span>
  <span class="token keyword">yield</span> <span class="token function">put</span><span class="token punctuation">(</span><span class="token punctuation">{</span> type<span class="token punctuation">:</span> <span class="token string">&apos;INCREMENT&apos;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment" spellcheck="true">// watcher Saga: &#xAC01;&#xAC01;&#xC758; INCREMENT_ASYNC &#xC5D0; incrementAsync &#xD0DC;&#xC2A4;&#xD06C;&#xB97C; &#xC0DD;&#xC131;&#xD560;&#xAC81;&#xB2C8;&#xB2E4;.</span>
<span class="token keyword">export</span> <span class="token keyword">function</span><span class="token operator">*</span> <span class="token function">watchIncrementAsync</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">yield</span> <span class="token function">takeEvery</span><span class="token punctuation">(</span><span class="token string">&apos;INCREMENT_ASYNC&apos;</span><span class="token punctuation">,</span> incrementAsync<span class="token punctuation">)</span>
<span class="token punctuation">}</span></code></pre>
<p>&#xC124;&#xBA85;&#xD560; &#xB54C;&#xAC00; &#xC654;&#xAD70;&#xC694;.
<!--Time for some explanations.--></p><p><code>delay</code> &#xB77C;&#xB294; &#xC720;&#xD2F8;&#xB9AC;&#xD2F0; &#xD568;&#xC218;&#xB97C; &#xC784;&#xD3EC;&#xD2B8; &#xD588;&#xB294;&#xB370;&#xC694;, &#xC774; &#xD568;&#xC218;&#xB294; &#xC124;&#xC815;&#xB41C; &#xC2DC;&#xAC04; &#xC774;&#xD6C4;&#xC5D0; resolve &#xB97C; &#xD558;&#xB294; <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise" target="_blank">Promise</a> &#xAC1D;&#xCCB4;&#xB97C; &#xB9AC;&#xD134;&#xD569;&#xB2C8;&#xB2E4;. &#xC6B0;&#xB9AC;&#xB294; &#xC774; &#xD568;&#xC218;&#xB97C; &#xC81C;&#xB108;&#xB808;&#xC774;&#xD130;&#xB97C; <em>&#xC815;&#xC9C0;</em> &#xD558;&#xB294;&#xB370; &#xC0AC;&#xC6A9;&#xD560;&#xAC81;&#xB2C8;&#xB2E4;.</p><!--We import `delay`, a utility function that returns a [Promise](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise) that will resolve after a specified number of milliseconds. We'll use this function to *block* the Generator.-->


<p>Sagas &#xB294; &#xC624;&#xBE0C;&#xC81D;&#xD2B8;&#xB4E4;&#xC744; redux-saga &#xBBF8;&#xB4E4;&#xC6E8;&#xC5B4;&#xC5D0; <em>yield</em> &#xD558;&#xB294; <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/function*" target="_blank">&#xC81C;&#xB108;&#xB808;&#xC774;&#xD130; &#xD568;&#xC218;</a> &#xB85C; &#xAD6C;&#xD604;&#xB418;&#xC5C8;&#xC2B5;&#xB2C8;&#xB2E4;. <em>yield&#xB41C;</em> &#xC624;&#xBE0C;&#xC81D;&#xD2B8;&#xB4E4;&#xC740; &#xBBF8;&#xB4E4;&#xC6E8;&#xC5B4;&#xC5D0; &#xC758;&#xD574; &#xD574;&#xC11D;&#xB418;&#xB294; &#xBA85;&#xB839;&#xC758; &#xD55C; &#xC885;&#xB958;&#xC785;&#xB2C8;&#xB2E4;. Promise &#xAC00; &#xBBF8;&#xB4E4;&#xC6E8;&#xC5B4;&#xC5D0; yield &#xB420; &#xB54C;, &#xBBF8;&#xB4E4;&#xC6E8;&#xC5B4;&#xB294; Promise &#xAC00; &#xB05D;&#xB0A0;&#xB54C; &#xAE4C;&#xC9C0; Saga &#xB97C; &#xC77C;&#xC2DC;&#xC815;&#xC9C0; &#xC2DC;&#xD0AC;&#xAC83; &#xC785;&#xB2C8;&#xB2E4;. &#xC704;&#xC758; &#xC608;&#xC2DC;&#xC5D0;&#xC11C;, <code>incrementAsync</code> Saga &#xB294; 1&#xCD08; &#xD6C4;&#xC5D0; &#xC77C;&#xC5B4;&#xB0A0; <code>delay</code>&#xC758; resolve &#xC5D0; &#xC758;&#xD574; Promise &#xAC00; &#xB9AC;&#xD134;&#xB420;&#xB54C; &#xAE4C;&#xC9C0; &#xC815;&#xC9C0;&#xB418;&#xC5B4;&#xC788;&#xC744;&#xAC81;&#xB2C8;&#xB2E4;.</p><!--Sagas are implemented as [Generator functions](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/function*) that *yield* objects to the redux-saga middleware. The yielded objects are a kind of instruction to be interpreted by the middleware. When a Promise is yielded to the middleware, the middleware will suspend the Saga until the Promise completes. In the above example, the `incrementAsync` Saga is suspended until the Promise returned by `delay` resolves, which will happen after 1 second.-->


<p>Promise &#xAC00; &#xD55C;&#xBC88; resolve &#xB418;&#xACE0; &#xB098;&#xBA74;, &#xBBF8;&#xB4E4;&#xC6E8;&#xC5B4;&#xB294; Saga &#xB97C; &#xB2E4;&#xC2DC; &#xC791;&#xB3D9;&#xC2DC;&#xD0A4;&#xBA74;&#xC11C;, &#xB2E4;&#xC74C; yield &#xAE4C;&#xC9C0; &#xCF54;&#xB4DC;&#xB97C; &#xC2E4;&#xD589;&#xD569;&#xB2C8;&#xB2E4;. &#xC774; &#xC608;&#xC81C;&#xC5D0;&#xC11C; &#xB2E4;&#xC74C; &#xC0C1;&#xD0DC;&#xB294; &#xBBF8;&#xB4E4;&#xC6E8;&#xC5B4;&#xC5D0;&#xAC8C; <code>INCREMENT</code> &#xC561;&#xC158;&#xC744; dispach &#xD558;&#xAC8C; &#xC54C;&#xB824;&#xC8FC;&#xB294;  <code>put({type: &apos;INCREMENT&apos;})</code> &#xC758; &#xACB0;&#xACFC; &#xAC1D;&#xCCB4;&#xAC00; &#xB429;&#xB2C8;&#xB2E4;.</p><!--Once the Promise is resolved, the middleware will resume the Saga, executing code until the next yield. In this example, the next statement is another yielded object: the result of calling `put({type: 'INCREMENT'})`, which instructs the middleware to dispatch an `INCREMENT` action.-->


<p><code>put</code> &#xC740; &#xC6B0;&#xB9AC;&#xAC00; <em>&#xC774;&#xD399;&#xD2B8;</em> &#xB77C;&#xACE0; &#xBD80;&#xB974;&#xB294; &#xC608;&#xC911; &#xD558;&#xB098;&#xC785;&#xB2C8;&#xB2E4;. &#xC774;&#xD399;&#xD2B8;&#xB294; &#xBBF8;&#xB4E4;&#xC6E8;&#xC5B4;&#xC5D0; &#xC758;&#xD574; &#xC218;&#xD589;&#xB418;&#xB294; &#xBA85;&#xB839;&#xC744; &#xB2F4;&#xACE0;&#xC788;&#xB294; &#xAC04;&#xB2E8;&#xD55C; &#xC790;&#xBC14;&#xC2A4;&#xD06C;&#xB9BD;&#xD2B8; &#xAC1D;&#xCCB4;&#xC785;&#xB2C8;&#xB2E4;. &#xBBF8;&#xB4E4;&#xC6E8;&#xC5B4;&#xAC00; Saga &#xC5D0; &#xC758;&#xD574; yield &#xB41C; &#xC774;&#xD399;&#xD2B8;&#xB97C; &#xBC1B;&#xC744;&#xB54C;, Saga &#xB294; &#xC774;&#xD399;&#xD2B8;&#xAC00; &#xC218;&#xD589;&#xB420;&#xB54C;&#xAE4C;&#xC9C0; &#xC815;&#xC9C0;&#xB418;&#xC5B4; &#xC788;&#xC744;&#xAC81;&#xB2C8;&#xB2E4;.</p><!--`put` is one example of what we call an *Effect*. Effects are simple JavaScript objects which contain instructions to be fulfilled by the middleware. When a middleware retrieves an Effect yielded by a Saga, the Saga is paused until the Effect is fulfilled.-->


<p>&#xC815;&#xB9AC;&#xD558;&#xC790;&#xBA74;, <code>incrementAsync</code> Saga &#xB294; <code>delay(1000)</code> &#xD638;&#xCD9C;&#xC5D0; &#xC758;&#xD574; 1&#xCD08;&#xB3D9;&#xC548; &#xC790;&#xACE0;&#xC788;&#xB2E4;&#xAC00;, <code>INCREMENT</code> &#xC561;&#xC158;&#xC744; dispatch &#xD558;&#xAC8C; &#xB418;&#xB294;&#xAC83;&#xC774;&#xC8E0;.
<!--So to summarize, the `incrementAsync` Saga sleeps for 1 second via the call to `delay(1000)`, then dispatches an `INCREMENT` action.--></p><p>&#xB2E4;&#xC74C;&#xC73C;&#xB85C;, &#xC6B0;&#xB9AC;&#xB294; <code>watchIncrementAsync</code> &#xB77C;&#xB294; &#xB610;&#xB2E4;&#xB978; Saga&#xB97C; &#xB9CC;&#xB4E4;&#xC5C8;&#xC2B5;&#xB2C8;&#xB2E4;. dispatch&#xB41C; <code>INCREMENT_ASYNC</code> &#xC561;&#xC158;&#xC744; &#xBC14;&#xB77C;&#xBCF4;&#xACE0;, &#xB9E4;&#xBC88; <code>incrementAsync</code> &#xB97C; &#xC2E4;&#xD589;&#xD558;&#xAE30; &#xC704;&#xD574; <code>redux-saga</code> &#xD328;&#xD0A4;&#xC9C0;&#xAC00; &#xC81C;&#xACF5;&#xD558;&#xB294; <code>takeEvery</code> &#xD5EC;&#xD37C; &#xD568;&#xC218;&#xB97C; &#xC0AC;&#xC6A9;&#xD588;&#xC2B5;&#xB2C8;&#xB2E4;.
<!--Next, we created another Saga `watchIncrementAsync`. We use `takeEvery`, a helper function provided by `redux-saga`, to listen for dispatched `INCREMENT_ASYNC` actions and run `incrementAsync` each time.--></p><p>&#xC774;&#xC81C; &#xB450;&#xAC1C;&#xC758; Saga&#xAC00; &#xC788;&#xB124;&#xC694;, &#xC774;&#xC81C; &#xB450; Saga &#xBAA8;&#xB450; &#xD55C;&#xBC88;&#xC5D0; &#xC2E4;&#xD589;&#xD574;&#xC57C;&#xD560; &#xD544;&#xC694;&#xAC00; &#xC0DD;&#xACBC;&#xC2B5;&#xB2C8;&#xB2E4;, &#xC774; &#xC791;&#xC5C5;&#xC744; &#xD558;&#xB824;&#xBA74;, &#xB2E4;&#xB978; Saga&#xB4E4;&#xC744; &#xC2DC;&#xC791;&#xD574;&#xC57C;&#xD560; &#xCC45;&#xC784;&#xC774; &#xC788;&#xB294; <code>rootSaga</code> &#xB97C; &#xCD94;&#xAC00;&#xD574;&#xBD05;&#xC2DC;&#xB2E4;.</p><p>&#xC790; &#xC774;&#xC81C; &#xC5EC;&#xAE30; &#xCF54;&#xB4DC;&#xB4E4;&#xC744; <code>sagas.js</code> &#xC5D0; &#xCD94;&#xAC00;&#xD574;&#xBCF4;&#xC138;&#xC694;.</p><!--Now we have 2 Sagas, and we need to start them both at once. To do that, we'll add a `rootSaga` that is responsible for starting our other Sagas. In the same file `sagas.js`, add the following code:-->


<pre><code class="lang-javascript"><span class="token comment" spellcheck="true">// &#xBAA8;&#xB4E0; Saga&#xB4E4;&#xC744; &#xD55C;&#xBC88;&#xC5D0; &#xC2DC;&#xC791;&#xD558;&#xAE30; &#xC704;&#xD55C; &#xB2E8;&#xC77C; entry point &#xC785;&#xB2C8;&#xB2E4;.</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span><span class="token operator">*</span> <span class="token function">rootSaga</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">yield</span> <span class="token function">all</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
    <span class="token function">helloSaga</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">watchIncrementAsync</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span></code></pre>
<p>&#xC774; Saga&#xB294; <code>helloSaga</code> Saga &#xC640; <code>watchIncrementAsync</code> Saga &#xAC00; &#xD638;&#xCD9C;&#xB41C; &#xACB0;&#xACFC;&#xC758; &#xBC30;&#xC5F4;&#xC744; yield &#xD569;&#xB2C8;&#xB2E4;. &#xC774;&#xAC83;&#xC740; &#xC0DD;&#xC131;&#xB41C; &#xB450; &#xC81C;&#xB108;&#xB808;&#xC774;&#xD130;&#xAC00; &#xBCD1;&#xB82C;&#xB85C; &#xC2DC;&#xC791;&#xB41C;&#xB2E4;&#xB294;&#xAC83;&#xC744; &#xC758;&#xBBF8;&#xD558;&#xC8E0;. &#xC774;&#xC81C; <code>sagaMiddleware.run</code> &#xB97C; <code>main.js</code> &#xC758; root Saga&#xC5D0; &#xC8FC;&#xC785;&#xD560; &#xC77C;&#xB9CC; &#xB0A8;&#xC558;&#xC2B5;&#xB2C8;&#xB2E4;.</p><!--This Saga yields an array with the results of calling our two sagas, `helloSaga` and `watchIncrementAsync`. This means the two resulting Generators will be started in parallel. Now we only have to invoke `sagaMiddleware.run` on the root Saga in `main.js`.-->


<pre><code class="lang-javascript"><span class="token comment" spellcheck="true">// ...</span>
<span class="token keyword">import</span> rootSaga from <span class="token string">&apos;./sagas&apos;</span>

<span class="token keyword">const</span> sagaMiddleware <span class="token operator">=</span> <span class="token function">createSagaMiddleware</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> store <span class="token operator">=</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
sagaMiddleware<span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span>rootSaga<span class="token punctuation">)</span>

<span class="token comment" spellcheck="true">// ...</span></code></pre>
<h2 id="&#xD14C;&#xC2A4;&#xD2B8;-&#xAC00;&#xB2A5;&#xD55C;-&#xCF54;&#xB4DC;-&#xB9CC;&#xB4E4;&#xAE30;">&#xD14C;&#xC2A4;&#xD2B8; &#xAC00;&#xB2A5;&#xD55C; &#xCF54;&#xB4DC; &#xB9CC;&#xB4E4;&#xAE30;</h2><p>&#xC774;&#xC81C; &#xC6B0;&#xB9AC;&#xC758; <code>incrementAsync</code> Saga &#xAC00; &#xBC14;&#xB78C;&#xC9C1;&#xD55C; &#xD0DC;&#xC2A4;&#xD06C;&#xB97C; &#xC218;&#xD589;&#xD558;&#xB294;&#xC9C0; &#xD655;&#xC2E4;&#xD558;&#xAC8C; &#xD574;&#xC57C;&#xACA0;&#xC8E0;? &#xD14C;&#xC2A4;&#xD2B8;&#xB97C; &#xB9CC;&#xB4E4;&#xC5B4; &#xBD05;&#xC2DC;&#xB2E4;.
<!--We want to test our `incrementAsync` Saga to make sure it performs the desired task.--></p><p><code>sagas.spec.js</code> &#xD30C;&#xC77C;&#xC744; &#xB9CC;&#xB4ED;&#xC2DC;&#xB2E4;.
<!--Create another file `sagas.spec.js`:--></p><pre><code class="lang-javascript"><span class="token keyword">import</span> test from <span class="token string">&apos;tape&apos;</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token punctuation">{</span> incrementAsync <span class="token punctuation">}</span> from <span class="token string">&apos;./sagas&apos;</span>

<span class="token function">test</span><span class="token punctuation">(</span><span class="token string">&apos;incrementAsync Saga test&apos;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>assert<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> gen <span class="token operator">=</span> <span class="token function">incrementAsync</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

  <span class="token comment" spellcheck="true">// now what ?</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p><code>incrementAsync</code> &#xB294; &#xC81C;&#xB108;&#xB808;&#xC774;&#xD130; &#xD568;&#xC218;&#xC785;&#xB2C8;&#xB2E4;. &#xC774;&#xAC83;&#xC744; &#xC2E4;&#xD589;&#xD558;&#xBA74;, &#xC774;&#xD130;&#xB808;&#xC774;&#xD130; &#xC624;&#xBE0C;&#xC81D;&#xD2B8;&#xB97C; &#xBC18;&#xD658;&#xD558;&#xACE0;, &#xC774;&#xD130;&#xB808;&#xC774;&#xD130;&#xC758; <code>next</code> &#xBA54;&#xC18C;&#xB4DC;&#xB294; &#xB2E4;&#xC74C;&#xACFC; &#xAC19;&#xC740; &#xBAA8;&#xC591;&#xC744; &#xAC00;&#xC9C4; &#xAC1D;&#xCCB4;&#xB97C; &#xB3CC;&#xB824;&#xC90D;&#xB2C8;&#xB2E4;. 
<!--`incrementAsync` is a generator function. When run, it returns an iterator object, and the iterator's `next` method returns an object with the following shape--></p><pre><code class="lang-javascript">gen<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// =&gt; { done: boolean, value: any }</span></code></pre>
<p><code>value</code> &#xD544;&#xB4DC;&#xB294; yield &#xB41C; &#xD45C;&#xD604;&#xC2DD;&#xC744; &#xD3EC;&#xD568;&#xD569;&#xB2C8;&#xB2E4;. <code>yield</code> &#xB2E4;&#xC74C; &#xD45C;&#xD604;&#xC2DD;&#xC758; &#xACB0;&#xACFC; &#xAC19;&#xC740; &#xAC83; &#xB9D0;&#xC774;&#xC8E0;.
<code>done</code> &#xD544;&#xB4DC;&#xB294; &#xC544;&#xC9C1; <code>yield</code> &#xD45C;&#xD604;&#xC774; &#xB0A8;&#xC544;&#xC788;&#xB294;&#xC9C0;, &#xC544;&#xB2C8;&#xBA74; &#xC81C;&#xB108;&#xB808;&#xC774;&#xD130;&#xAC00; &#xC885;&#xB8CC;&#xB418;&#xC5C8;&#xB294;&#xC9C0; &#xAC00;&#xB9AC;&#xD0B5;&#xB2C8;&#xB2E4;.
<!--The `value` field contains the yielded expression, i.e. the result of the expression after
the `yield`. The `done` field indicates if the generator has terminated or if there are still
more 'yield' expressions.--></p><p><code>incrementAsync</code> &#xB85C; &#xC608;&#xB97C; &#xB4E4;&#xC790;&#xBA74;, &#xC81C;&#xB108;&#xB808;&#xC774;&#xD130;&#xB294; &#xB450;&#xAC1C;&#xC758; &#xAC12;&#xC744; &#xC5F0;&#xC18D;&#xC73C;&#xB85C; yield &#xD569;&#xB2C8;&#xB2E4;.
<!--In the case of `incrementAsync`, the generator yields 2 values consecutively:--></p><ol><li><code>yield delay(1000)</code>
</li>
<li><code>yield put({type: &apos;INCREMENT&apos;})</code>
</li></ol>
<p>&#xADF8;&#xB798;&#xC11C; &#xC6B0;&#xB9AC;&#xAC00; &#xC81C;&#xB108;&#xB808;&#xC774;&#xD130;&#xC758; next &#xBA54;&#xC18C;&#xB4DC;&#xB97C; &#xC138;&#xBC88; &#xC5F0;&#xC18D;&#xD558;&#xC5EC; &#xBD80;&#xB978;&#xB2E4;&#xBA74;, &#xB2E4;&#xC74C;&#xACFC; &#xAC19;&#xC740; &#xACB0;&#xACFC;&#xAC12;&#xC744; &#xC5BB;&#xAC8C; &#xB429;&#xB2C8;&#xB2E4;.
<!--So if we invoke the next method of the generator 3 times consecutively we get the following
results:--></p><pre><code class="lang-javascript">gen<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// =&gt; { done: false, value: &lt;result of calling delay(1000)&gt; }</span>
gen<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// =&gt; { done: false, value: &lt;result of calling put({type: &apos;INCREMENT&apos;})&gt; }</span>
gen<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// =&gt; { done: true, value: undefined }</span></code></pre>
<p>&#xCC98;&#xC74C; &#xB450;&#xAC1C; &#xD638;&#xCD9C;&#xC740; yield &#xD45C;&#xD604;&#xC758; &#xACB0;&#xACFC;&#xB97C; &#xB3CC;&#xB824;&#xC90D;&#xB2C8;&#xB2E4;. 3&#xBC88;&#xC9F8; &#xD638;&#xCD9C;&#xC740; &#xB354;&#xC774;&#xC0C1; yield &#xAC00; &#xC5C6;&#xAE30; &#xB54C;&#xBB38;&#xC5D0; <code>done</code> &#xD544;&#xB4DC;&#xB294; true &#xB85C; &#xC124;&#xC815;&#xB418;&#xACE0;, <code>incrementAsync</code> &#xC81C;&#xB108;&#xB808;&#xC774;&#xD130;&#xAC00; &#xC544;&#xBB34;&#xAC83;&#xB3C4; &#xB9AC;&#xD134;&#xD558;&#xC9C0; &#xC54A;&#xAE30; &#xB54C;&#xBB38;&#xC5D0; <code>value</code> &#xD544;&#xB4DC;&#xB294; <code>undefined</code> &#xB85C; &#xC124;&#xC815;&#xB429;&#xB2C8;&#xB2E4;.
<!--The first 2 invocations return the results of the yield expressions. On the 3rd invocation
since there is no more yield the `done` field is set to true. And since the `incrementAsync`
Generator doesn't return anything (no `return` statement), the `value` field is set to
`undefined`.--></p><p>&#xC790; &#xC774;&#xC81C;, <code>incrementAsync</code> &#xC548;&#xC5D0;&#xC11C; &#xB85C;&#xC9C1;&#xC744; &#xD14C;&#xC2A4;&#xD2B8;&#xD558;&#xAE30; &#xC704;&#xD574;, &#xB3CC;&#xB824;&#xBC1B;&#xC740; &#xC81C;&#xB108;&#xB808;&#xC774;&#xD130;&#xB97C; &#xBC18;&#xBCF5;&#xD558;&#xACE0;, &#xC81C;&#xB108;&#xB808;&#xC774;&#xD130;&#xC5D0; &#xC758;&#xD574; yield &#xB41C; &#xAC12;&#xB4E4;&#xC744; &#xAC04;&#xB2E8;&#xD788; &#xCCB4;&#xD06C;&#xD560;&#xAC81;&#xB2C8;&#xB2E4;.
<!--So now, in order to test the logic inside `incrementAsync`, we'll simply have to iterate
over the returned Generator and check the values yielded by the generator.--></p><pre><code class="lang-javascript"><span class="token keyword">import</span> test from <span class="token string">&apos;tape&apos;</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token punctuation">{</span> incrementAsync <span class="token punctuation">}</span> from <span class="token string">&apos;./sagas&apos;</span>

<span class="token function">test</span><span class="token punctuation">(</span><span class="token string">&apos;incrementAsync Saga test&apos;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>assert<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> gen <span class="token operator">=</span> <span class="token function">incrementAsync</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

  assert<span class="token punctuation">.</span><span class="token function">deepEqual</span><span class="token punctuation">(</span>
    gen<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> done<span class="token punctuation">:</span> <span class="token keyword">false</span><span class="token punctuation">,</span> value<span class="token punctuation">:</span> <span class="token operator">?</span><span class="token operator">?</span><span class="token operator">?</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token string">&apos;incrementAsync should return a Promise that will resolve after 1 second&apos;</span>
  <span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p>&#xD558;&#xC9C0;&#xB9CC; Promise &#xC5D0;&#xC120; &#xBE44;&#xAD50;&#xC5F0;&#xC0B0;&#xC744; &#xD560; &#xC218; &#xC5C6;&#xB294;&#xB370; &#xC5B4;&#xB5BB;&#xAC8C; <code>delay</code> &#xC758; &#xB9AC;&#xD134;&#xAC12;&#xC744; &#xD14C;&#xC2A4;&#xD2B8; &#xD558;&#xC8E0;?  &#xB9CC;&#xC57D; <code>delay</code> &#xAC00; <em>&#xD3C9;&#xBC94;&#xD55C;</em> &#xAC12;&#xC744; &#xB3CC;&#xB824;&#xC900;&#xB2E4;&#xBA74; &#xD14C;&#xC2A4;&#xD2B8;&#xD558;&#xAE30; &#xC26C;&#xC6B8;&#xD150;&#xB370;&#xC694;..
<!--The issue is how do we test the return value of `delay`? We can't do a simple equality test
on Promises. If `delay` returned a *normal* value, things would've been easier to test.--></p><p><code>redux-saga</code> &#xB294; &#xC704;&#xC758; &#xACE0;&#xBBFC;&#xC744; &#xD574;&#xACB0;&#xD560; &#xBC29;&#xBC95;&#xC744; &#xC81C;&#xC2DC;&#xD558;&#xACE0; &#xC788;&#xC2B5;&#xB2C8;&#xB2E4;. <code>incrementAsync</code> &#xC5D0;&#xC11C; <code>delay(1000)</code> &#xC744; &#xC9C1;&#xC811;&#xC801;&#xC73C;&#xB85C; &#xD638;&#xCD9C;&#xD558;&#xB294;&#xAC83; &#xB300;&#xC2E0;, &#xC6B0;&#xB9B0; <em>&#xAC04;&#xC811;&#xC801;&#xC73C;&#xB85C;</em> &#xD638;&#xCD9C;&#xD560;&#xAC81;&#xB2C8;&#xB2E4;.
<!--Well, `redux-saga` provides a way to make the above statement possible. Instead of calling
`delay(1000)` directly inside `incrementAsync`, we'll call it *indirectly*:--></p><pre><code class="lang-javascript"><span class="token comment" spellcheck="true">// ...</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> delay <span class="token punctuation">}</span> from <span class="token string">&apos;redux-saga&apos;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> put<span class="token punctuation">,</span> call<span class="token punctuation">,</span> takeEvery <span class="token punctuation">}</span> from <span class="token string">&apos;redux-saga/effects&apos;</span>

<span class="token keyword">export</span> <span class="token keyword">function</span><span class="token operator">*</span> <span class="token function">incrementAsync</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment" spellcheck="true">// use the call Effect</span>
  <span class="token keyword">yield</span> <span class="token function">call</span><span class="token punctuation">(</span>delay<span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span>
  <span class="token keyword">yield</span> <span class="token function">put</span><span class="token punctuation">(</span><span class="token punctuation">{</span> type<span class="token punctuation">:</span> <span class="token string">&apos;INCREMENT&apos;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span></code></pre>
<p><code>yield delay(1000)</code> &#xB300;&#xC2E0; <code>yield call(delay, 1000)</code> &#xB97C; &#xD558;&#xACE0;&#xC788;&#xC2B5;&#xB2C8;&#xB2E4;, &#xBB34;&#xC5C7;&#xC774; &#xB2EC;&#xB77C;&#xC84C;&#xB294;&#xC9C0; &#xBCF4;&#xC774;&#xC2DC;&#xB098;&#xC694;?
<!--Instead of doing `yield delay(1000)`, we're now doing `yield call(delay, 1000)`. What's the difference?--></p><p>&#xCCAB;&#xBC88;&#xC9F8; &#xACBD;&#xC6B0;&#xC5D0;&#xC11C;, <code>delay(1000)</code> yield &#xAD6C;&#xBB38;&#xC740; <code>next</code> &#xC758; &#xD638;&#xCD9C;&#xC790;&#xB85C; &#xB118;&#xACA8;&#xC9C0;&#xAE30; &#xC804;&#xC5D0; &#xC2E4;&#xD589;&#xB418;&#xACE0;, (&#xC5EC;&#xAE30;&#xC11C; &#xD638;&#xCD9C;&#xC790;&#xB294; &#xBBF8;&#xB4E4;&#xC6E8;&#xC5B4;&#xAC00; &#xB418;&#xAC70;&#xB098;, &#xC81C;&#xB108;&#xB808;&#xC774;&#xD130; &#xD568;&#xC218;&#xB97C; &#xC2E4;&#xD589;&#xD558;&#xACE0; &#xB9AC;&#xD134;&#xB41C; &#xC81C;&#xB108;&#xB808;&#xC774;&#xD130;&#xB97C; &#xB118;&#xC5B4; &#xBC18;&#xBCF5;&#xD558;&#xB294; &#xD14C;&#xC2A4;&#xD2B8;&#xCF54;&#xB4DC;&#xAC00; &#xB418;&#xC5B4;&#xC57C; &#xD569;&#xB2C8;&#xB2E4;.)  &#xD638;&#xCD9C;&#xC790;&#xAC00; &#xC5BB;&#xAC8C; &#xB418;&#xB294;&#xAC83;&#xC740; Promise &#xC785;&#xB2C8;&#xB2E4;. &#xC544;&#xB798; &#xCF54;&#xB4DC;&#xB97C; &#xCC38;&#xACE0;&#xD558;&#xC138;&#xC694;.</p><!--In the first case, the yield expression `delay(1000)` is evaluated before it gets passed to the caller of `next` (the caller could be the middleware when running our code. It could also be our test code which runs the Generator function and iterates over the returned Generator). So what the caller gets is a Promise, like in the test code above.-->


<p>&#xB450;&#xBC88;&#xC9F8; &#xACBD;&#xC6B0;&#xC5D0;&#xC120;, <code>call(delay, 1000)</code> yield &#xAD6C;&#xBB38;&#xC740; <code>next</code> &#xC758; &#xD638;&#xCD9C;&#xC790;&#xC5D0;&#xAC8C; &#xB118;&#xACA8;&#xC9C0;&#xAC8C; &#xB429;&#xB2C8;&#xB2E4;. <code>put</code> &#xACFC; &#xC720;&#xC0AC;&#xD55C; <code>call</code> &#xC740; &#xBBF8;&#xB4E4;&#xC6E8;&#xC5B4;&#xC5D0;&#xAC8C; &#xC8FC;&#xC5B4;&#xC9C4; &#xD568;&#xC218;&#xC640; &#xC778;&#xC790;&#xB4E4;&#xC744; &#xC2E4;&#xD589;&#xD558;&#xB77C;&#xB294; &#xBA85;&#xB839;&#xC744; &#xD558;&#xB294; &#xC774;&#xD399;&#xD2B8;&#xB97C; &#xB9AC;&#xD134;&#xD569;&#xB2C8;&#xB2E4;.
&#xC0AC;&#xC2E4;, <code>put</code> &#xACFC; <code>call</code> &#xC740; &#xC2A4;&#xC2A4;&#xB85C; &#xC5B4;&#xB5A4; dispatch &#xB098; &#xBE44;&#xB3D9;&#xAE30;&#xC801;&#xC778; &#xD638;&#xCD9C;&#xC744; &#xD558;&#xC9C0; &#xC54A;&#xC2B5;&#xB2C8;&#xB2E4;. &#xADF8;&#xB4E4;&#xC740; &#xB2E8;&#xC9C0; &#xC21C;&#xC218;&#xD55C; &#xC790;&#xBC14;&#xC2A4;&#xD06C;&#xB9BD;&#xD2B8; &#xAC1D;&#xCCB4;&#xB97C; &#xB3CC;&#xB824;&#xC904; &#xBFD0;&#xC785;&#xB2C8;&#xB2E4;.</p><!--In the second case, the yield expression `call(delay, 1000)` is what gets passed to the caller of `next`. `call` just like `put`, returns an Effect which instructs the middleware to call a given function with the given arguments. In fact, neither `put` nor `call` performs any dispatch or asynchronous call by themselves, they simply return plain JavaScript objects.-->


<pre><code class="lang-javascript"><span class="token function">put</span><span class="token punctuation">(</span><span class="token punctuation">{</span>type<span class="token punctuation">:</span> <span class="token string">&apos;INCREMENT&apos;</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// =&gt; { PUT: {type: &apos;INCREMENT&apos;} }</span>
<span class="token function">call</span><span class="token punctuation">(</span>delay<span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span>        <span class="token comment" spellcheck="true">// =&gt; { CALL: {fn: delay, args: [1000]}}</span></code></pre>
<p>&#xBB34;&#xC2A8;&#xC77C;&#xC774; &#xC77C;&#xC5B4;&#xB0A0;&#xAE4C;&#xC694;? &#xBBF8;&#xB4E4;&#xC6E8;&#xC5B4;&#xB294; &#xAC01;&#xAC01;&#xC758; yield &#xB41C; &#xC774;&#xD399;&#xD2B8;&#xB4E4;&#xC744; &#xAC80;&#xC0AC;&#xD55C;&#xB4A4;, &#xC5B4;&#xB5BB;&#xAC8C; &#xC774;&#xD399;&#xD2B8;&#xB97C; &#xC218;&#xD589;&#xD560;&#xC9C0; &#xACB0;&#xC815;&#xD569;&#xB2C8;&#xB2E4;. &#xB9CC;&#xC57D; &#xC774;&#xD399;&#xD2B8;&#xC758; &#xD0C0;&#xC785;&#xC774; <code>PUT</code> &#xC774;&#xB77C;&#xBA74;, &#xBBF8;&#xB4E4;&#xC6E8;&#xC5B4;&#xB294; &#xC2A4;&#xD1A0;&#xC5B4;&#xC5D0; &#xC561;&#xC158;&#xC744; dispatch &#xD560;&#xAC83;&#xC785;&#xB2C8;&#xB2E4;. <code>CALL</code> &#xC778; &#xACBD;&#xC6B0;&#xC5D4; &#xC8FC;&#xC5B4;&#xC9C4; &#xD568;&#xC218;&#xB97C; &#xC2E4;&#xD589;&#xD558;&#xAC8C; &#xB418;&#xB294;&#xAC83; &#xC774;&#xACE0;&#xC694;.</p><!--What happens is that the middleware examines the type of each yielded Effect then decides how to fulfill that Effect. If the Effect type is a `PUT` then it will dispatch an action to the Store. If the Effect is a `CALL` then it'll call the given function.-->


<p>&#xC774; &#xC774;&#xD399;&#xD2B8;&#xC0DD;&#xC131;&#xACFC; &#xC774;&#xD399;&#xD2B8; &#xC2E4;&#xD589;&#xC758; &#xBD84;&#xB9AC;&#xB294; &#xC81C;&#xB108;&#xB808;&#xC774;&#xD130;&#xB97C; &#xB180;&#xB78D;&#xAC8C;&#xB3C4; &#xC27D;&#xAC8C; &#xD14C;&#xC2A4;&#xD2B8;&#xAC00; &#xAC00;&#xB2A5;&#xD558;&#xB3C4;&#xB85D; &#xB9CC;&#xB4ED;&#xB2C8;&#xB2E4;.
<!--This separation between Effect creation and Effect execution makes it possible to test our Generator in a surprisingly easy way:--></p><pre><code class="lang-javascript"><span class="token keyword">import</span> test from <span class="token string">&apos;tape&apos;</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token punctuation">{</span> put<span class="token punctuation">,</span> call <span class="token punctuation">}</span> from <span class="token string">&apos;redux-saga/effects&apos;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> delay <span class="token punctuation">}</span> from <span class="token string">&apos;redux-saga&apos;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> incrementAsync <span class="token punctuation">}</span> from <span class="token string">&apos;./sagas&apos;</span>

<span class="token function">test</span><span class="token punctuation">(</span><span class="token string">&apos;incrementAsync Saga test&apos;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>assert<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> gen <span class="token operator">=</span> <span class="token function">incrementAsync</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

  assert<span class="token punctuation">.</span><span class="token function">deepEqual</span><span class="token punctuation">(</span>
    gen<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>value<span class="token punctuation">,</span>
    <span class="token function">call</span><span class="token punctuation">(</span>delay<span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token string">&apos;incrementAsync Saga must call delay(1000)&apos;</span>
  <span class="token punctuation">)</span>

  assert<span class="token punctuation">.</span><span class="token function">deepEqual</span><span class="token punctuation">(</span>
    gen<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>value<span class="token punctuation">,</span>
    <span class="token function">put</span><span class="token punctuation">(</span><span class="token punctuation">{</span>type<span class="token punctuation">:</span> <span class="token string">&apos;INCREMENT&apos;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token string">&apos;incrementAsync Saga must dispatch an INCREMENT action&apos;</span>
  <span class="token punctuation">)</span>

  assert<span class="token punctuation">.</span><span class="token function">deepEqual</span><span class="token punctuation">(</span>
    gen<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> done<span class="token punctuation">:</span> <span class="token keyword">true</span><span class="token punctuation">,</span> value<span class="token punctuation">:</span> undefined <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token string">&apos;incrementAsync Saga must be done&apos;</span>
  <span class="token punctuation">)</span>

  assert<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p><code>put</code> &#xACFC; <code>call</code> &#xC774; &#xC77C;&#xBC18; &#xAC1D;&#xCCB4;&#xB97C; &#xBC18;&#xD658;&#xD558;&#xAE30; &#xB54C;&#xBB38;&#xC5D0;, &#xD14C;&#xC2A4;&#xD2B8; &#xCF54;&#xB4DC;&#xC5D0;&#xC11C; &#xAC19;&#xC740; &#xD568;&#xC218;&#xB4E4;&#xC744; &#xC7AC;&#xC0AC;&#xC6A9;&#xD560;&#xC218; &#xC788;&#xAC8C; &#xB418;&#xC5C8;&#xACE0;, <code>incrementAsync</code> &#xC758; &#xB85C;&#xC9C1;&#xC744; &#xD14C;&#xC2A4;&#xD2B8; &#xD558;&#xAE30; &#xC704;&#xD574; &#xB2E8;&#xC21C;&#xD788; &#xC81C;&#xB108;&#xB808;&#xC774;&#xD130;&#xB97C; &#xBC18;&#xBCF5;&#xD558;&#xACE0; &#xAC12;&#xC5D0; &#xB300;&#xD574; <code>deepEqual</code> &#xD14C;&#xC2A4;&#xD2B8;&#xB97C; &#xD560;&#xC218; &#xC788;&#xAC8C; &#xB418;&#xC5C8;&#xC2B5;&#xB2C8;&#xB2E4;.</p><!--Since `put` and `call` return plain objects, we can reuse the same functions in our test code. And to test the logic of `incrementAsync`, we simply iterate over the generator and do `deepEqual` tests on its values.-->


<p>&#xC704;&#xC758; &#xD14C;&#xC2A4;&#xD2B8;&#xB97C; &#xC9C4;&#xD589;&#xD558;&#xAE30; &#xC704;&#xD55C; &#xCF54;&#xB4DC;&#xC785;&#xB2C8;&#xB2E4;:
<!--In order to run the above test, run:--></p><pre><code class="lang-sh">$ npm test</code></pre>
<p>&#xC774; &#xD14C;&#xC2A4;&#xD2B8;&#xB294; &#xCF58;&#xC194;&#xC5D0; &#xACB0;&#xACFC;&#xB97C; &#xBCF4;&#xACE0;&#xD574;&#xC57C; &#xD569;&#xB2C8;&#xB2E4;.
<!--which should report the results on the console.--></p>
                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="./" class="navigation navigation-prev " aria-label="Previous page: 소개">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="SagaBackground.html" class="navigation navigation-next " aria-label="Next page: 배경지식">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"튜토리얼","level":"1.2.1","depth":2,"next":{"title":"배경지식","level":"1.2.2","depth":2,"path":"introduction/SagaBackground.md","ref":"introduction/SagaBackground.md","articles":[]},"previous":{"title":"소개","level":"1.2","depth":1,"path":"introduction/README.md","ref":"introduction/README.md","articles":[{"title":"튜토리얼","level":"1.2.1","depth":2,"path":"introduction/BeginnerTutorial.md","ref":"introduction/BeginnerTutorial.md","articles":[]},{"title":"배경지식","level":"1.2.2","depth":2,"path":"introduction/SagaBackground.md","ref":"introduction/SagaBackground.md","articles":[]}]},"dir":"ltr"},"config":{"plugins":["prism@1.0.0","-highlight","github","ga","edit-link"],"root":"./docs_kr","styles":{"website":"build/gitbook.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"pluginsConfig":{"prism":{},"github":{"url":"https://github.com/mskims/redux-saga-in-korean/"},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"fontsettings":{"theme":"white","family":"sans","size":2},"ga":{"configuration":"auto","token":"UA-100043099-1"},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"edit-link":{"label":"이 페이지 수정하기","base":"https://github.com/mskims/redux-saga-in-korean/tree/master/docs_kr"},"theme-default":{"styles":{"website":"build/gitbook.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"theme":"default","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"language":"ko","gitbook":"3.2.0"},"file":{"path":"introduction/BeginnerTutorial.md","mtime":"2021-05-06T05:35:29.768Z","type":"markdown"},"gitbook":{"version":"3.2.0","time":"2021-05-06T05:36:43.381Z"},"basePath":"..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../gitbook/gitbook.js"></script>
    <script src="../gitbook/theme.js"></script>
    
        
        <script src="../gitbook/gitbook-plugin-github/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-ga/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-edit-link/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

